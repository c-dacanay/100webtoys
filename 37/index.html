<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="../core.css">
    <link rel="icon" href="../favicon.svg">
    <title>37 / 100</title>
</head>

<!-- 
    Base code attribution: https://codepen.io/hugo/pen/kdBxyd
    For the future: change clip paths so imgs actually align edges
    uhh mousemovements make the kaleidoscope
    or facetracking idk?!
-->

<body>
    <div class=hitbox><div id="hit">⬤</div></div>
    <div class="wrapper m-hide">
        <div class="kaleido">
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
        </div>
      </div>      
      <svg>
        <clipPath id="polygon" clipPathUnits="objectBoundingBox">
          <polygon points=".5 0, 0 1, 1 1" />
        </clipPath>
      </svg>

    <div class="mobile">
    <p>This webtoy is not optimized for small screens or mobile.</p>
    <p>Please visit again on desktop! ♡</p>
  </div>
    <div class="nav">
        <a class="next" href="../36/"><h1>⬅</h1></a>
        <div class="details"><small>⟡ 37/<a href="../index.html">100</a> ⟡</small>
        <small id="about"><a href="../about/">about the project</a></small>
        </div>
        <a class="next" href="../38/"><h1>⮕</h1></a>
    </div>
</body>

<script>
let button = document.getElementById('hit');
let tiles = document.querySelectorAll('.tile');

button.addEventListener("click", () =>{
    console.log('hit')
    let src = getRandom(0, 40)
    tiles.forEach(tile => {
        tile.style.background = `url(../img/${src}.JPG)`;
    })
    document.body.style.background = `url(../img/${src}.JPG)`;
})

function getRandom(min, max) {
    return Math.floor(Math.random() * (max - min) + min);
}

addEventListener('mousemove', (e) => {
  let x = e.clientX / 5;
  let y = e.clientY / 5;
  tiles.forEach(tile => {
        tile.style.backgroundPosition = x + '%' + y + '%'; 
        console.log(x, y)
    })

  // tiles.style.backgroundPosition = x + '%' + y + '%'; 
})

</script>
</html>